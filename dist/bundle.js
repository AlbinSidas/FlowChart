!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){var r,o,i=n(1),s=n(2),c=0,u=0;t.exports=function(t,e,n){var l=e&&n||0,a=e||[],h=(t=t||{}).node||r,f=void 0!==t.clockseq?t.clockseq:o;if(null==h||null==f){var p=i();null==h&&(h=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:u+1,y=d-c+(v-u)/1e4;if(y<0&&void 0===t.clockseq&&(f=f+1&16383),(y<0||d>c)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,u=v,o=f;var m=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;a[l++]=m>>>24&255,a[l++]=m>>>16&255,a[l++]=m>>>8&255,a[l++]=255&m;var b=d/4294967296*1e4&268435455;a[l++]=b>>>8&255,a[l++]=255&b,a[l++]=b>>>24&15|16,a[l++]=b>>>16&255,a[l++]=f>>>8|128,a[l++]=255&f;for(var g=0;g<6;++g)a[l+g]=h[g];return e||s(a)}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},function(t,e,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function c(){c.init.call(this)}t.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var u=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function a(t){return void 0===t._maxListeners?c.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var o,i,s,c;if(l(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),s=i[e]),void 0===s)s=i[e]=n,++t._eventsCount;else if("function"==typeof s?s=i[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=a(t))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,c=u,console&&console.warn&&console.warn(c)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=f.bind(r);return o.listener=n,r.wrapFn=o,o}function d(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):y(o,o.length)}function v(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function(){return a(this)},c.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var c=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw c.context=s,c}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)i(u,this,e);else{var l=u.length,a=y(u,l);for(n=0;n<l;++n)i(a[n],this,e)}return!0},c.prototype.addListener=function(t,e){return h(this,t,e,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(t,e){return h(this,t,e,!0)},c.prototype.once=function(t,e){return l(e),this.on(t,p(this,t,e)),this},c.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,p(this,t,e)),this},c.prototype.removeListener=function(t,e){var n,r,o,i,s;if(l(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},c.prototype.listeners=function(t){return d(this,t,!0)},c.prototype.rawListeners=function(t){return d(this,t,!1)},c.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):v.call(t,e)},c.prototype.listenerCount=v,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){(function(t,n){var r="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",s="[object Map]",c="[object Set]",u=/\w*$/,l=/^\[object .+?Constructor\]$/,a=/^(?:0|[1-9]\d*)$/,h={};h[r]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object DataView]"]=h["[object Boolean]"]=h["[object Date]"]=h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h[s]=h["[object Number]"]=h["[object Object]"]=h["[object RegExp]"]=h[c]=h["[object String]"]=h["[object Symbol]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h["[object Error]"]=h[o]=h["[object WeakMap]"]=!1;var f="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,d=f||p||Function("return this")(),v=e&&!e.nodeType&&e,y=v&&"object"==typeof n&&n&&!n.nodeType&&n,m=y&&y.exports===v;function b(t,e){return t.set(e[0],e[1]),t}function g(t,e){return t.add(e),t}function _(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function w(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function j(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function x(t,e){return function(n){return t(e(n))}}function O(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var E,k=Array.prototype,A=Function.prototype,C=Object.prototype,L=d["__core-js_shared__"],S=(E=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",P=A.toString,Y=C.hasOwnProperty,D=C.toString,I=RegExp("^"+P.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=m?d.Buffer:void 0,M=d.Symbol,$=d.Uint8Array,R=x(Object.getPrototypeOf,Object),T=Object.create,F=C.propertyIsEnumerable,U=k.splice,X=Object.getOwnPropertySymbols,N=B?B.isBuffer:void 0,H=x(Object.keys,Object),V=yt(d,"DataView"),W=yt(d,"Map"),q=yt(d,"Promise"),K=yt(d,"Set"),z=yt(d,"WeakMap"),G=yt(Object,"create"),Z=wt(V),J=wt(W),Q=wt(q),tt=wt(K),et=wt(z),nt=M?M.prototype:void 0,rt=nt?nt.valueOf:void 0;function ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function it(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function st(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ct(t){this.__data__=new it(t)}function ut(t,e){var n=xt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Ot(t)}(t)&&Y.call(t,"callee")&&(!F.call(t,"callee")||D.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,i=!!o;for(var s in t)!e&&!Y.call(t,s)||i&&("length"==s||gt(s,o))||n.push(s);return n}function lt(t,e,n){var r=t[e];Y.call(t,e)&&jt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function at(t,e){for(var n=t.length;n--;)if(jt(t[n][0],e))return n;return-1}function ht(t,e,n,l,a,f,p){var d;if(l&&(d=f?l(t,a,f,p):l(t)),void 0!==d)return d;if(!At(t))return t;var v=xt(t);if(v){if(d=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&Y.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,d)}else{var y=bt(t),m=y==o||y==i;if(Et(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if("[object Object]"==y||y==r||m&&!f){if(w(t))return f?t:{};if(d=function(t){return"function"!=typeof t.constructor||_t(t)?{}:(e=R(t),At(e)?T(e):{});var e}(m?{}:t),!e)return function(t,e){return dt(t,mt(t),e)}(t,function(t,e){return t&&dt(e,Ct(e),t)}(d,t))}else{if(!h[y])return f?t:{};d=function(t,e,n,r){var o=t.constructor;switch(e){case"[object ArrayBuffer]":return pt(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var n=e?pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case s:return function(t,e,n){return _(e?n(j(t),!0):j(t),b,new t.constructor)}(t,r,n);case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,u.exec(t));return e.lastIndex=t.lastIndex,e}(t);case c:return function(t,e,n){return _(e?n(O(t),!0):O(t),g,new t.constructor)}(t,r,n);case"[object Symbol]":return i=t,rt?Object(rt.call(i)):{}}var i}(t,y,ht,e)}}p||(p=new ct);var x=p.get(t);if(x)return x;if(p.set(t,d),!v)var E=n?function(t){return function(t,e,n){var r=e(t);return xt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Ct,mt)}(t):Ct(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(E||t,(function(r,o){E&&(r=t[o=r]),lt(d,o,ht(r,e,n,l,o,t,p))})),d}function ft(t){return!(!At(t)||(e=t,S&&S in e))&&(kt(t)||w(t)?I:l).test(wt(t));var e}function pt(t){var e=new t.constructor(t.byteLength);return new $(e).set(new $(t)),e}function dt(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var s=e[o],c=r?r(n[s],t[s],s,n,t):void 0;lt(n,s,void 0===c?t[s]:c)}return n}function vt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function yt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ft(n)?n:void 0}ot.prototype.clear=function(){this.__data__=G?G(null):{}},ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ot.prototype.get=function(t){var e=this.__data__;if(G){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Y.call(e,t)?e[t]:void 0},ot.prototype.has=function(t){var e=this.__data__;return G?void 0!==e[t]:Y.call(e,t)},ot.prototype.set=function(t,e){return this.__data__[t]=G&&void 0===e?"__lodash_hash_undefined__":e,this},it.prototype.clear=function(){this.__data__=[]},it.prototype.delete=function(t){var e=this.__data__,n=at(e,t);return!(n<0)&&(n==e.length-1?e.pop():U.call(e,n,1),!0)},it.prototype.get=function(t){var e=this.__data__,n=at(e,t);return n<0?void 0:e[n][1]},it.prototype.has=function(t){return at(this.__data__,t)>-1},it.prototype.set=function(t,e){var n=this.__data__,r=at(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},st.prototype.clear=function(){this.__data__={hash:new ot,map:new(W||it),string:new ot}},st.prototype.delete=function(t){return vt(this,t).delete(t)},st.prototype.get=function(t){return vt(this,t).get(t)},st.prototype.has=function(t){return vt(this,t).has(t)},st.prototype.set=function(t,e){return vt(this,t).set(t,e),this},ct.prototype.clear=function(){this.__data__=new it},ct.prototype.delete=function(t){return this.__data__.delete(t)},ct.prototype.get=function(t){return this.__data__.get(t)},ct.prototype.has=function(t){return this.__data__.has(t)},ct.prototype.set=function(t,e){var n=this.__data__;if(n instanceof it){var r=n.__data__;if(!W||r.length<199)return r.push([t,e]),this;n=this.__data__=new st(r)}return n.set(t,e),this};var mt=X?x(X,Object):function(){return[]},bt=function(t){return D.call(t)};function gt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function _t(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||C)}function wt(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function jt(t,e){return t===e||t!=t&&e!=e}(V&&"[object DataView]"!=bt(new V(new ArrayBuffer(1)))||W&&bt(new W)!=s||q&&"[object Promise]"!=bt(q.resolve())||K&&bt(new K)!=c||z&&"[object WeakMap]"!=bt(new z))&&(bt=function(t){var e=D.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?wt(n):void 0;if(r)switch(r){case Z:return"[object DataView]";case J:return s;case Q:return"[object Promise]";case tt:return c;case et:return"[object WeakMap]"}return e});var xt=Array.isArray;function Ot(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!kt(t)}var Et=N||function(){return!1};function kt(t){var e=At(t)?D.call(t):"";return e==o||e==i}function At(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ct(t){return Ot(t)?ut(t):function(t){if(!_t(t))return H(t);var e=[];for(var n in Object(t))Y.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return ht(t,!0,!0)}}).call(this,n(5),n(6)(t))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e);var r={apa:"ok"};n(0);var o=class{constructor(t,e){this.posX=100,this.posY=100,this.oldX=this.posX,this.oldY=this.posY,this.offsetX=0,this.offsetY=0,this.height=100,this.id=t,this.functionDescription="No function yet",this.input="",this.output="",this.eventEmitter=e,this.element=document.createElement("div"),this.element.classList.add("flowchart-square"),this.element.id=t,this.onClick=this.onClick.bind(this),this.elementDrag=this.elementDrag.bind(this),this.mouseDown=this.mouseDown.bind(this),this.closeDragElement=this.closeDragElement.bind(this),this.element.onclick=this.onClick,this.element.onmousedown=this.mouseDown,this.setPosY=this.setPosY.bind(this),this.scrollChecker,this.closeDragElement=this.closeDragElement.bind(this),this.onScrolledCallbacks=[]}render(){return this.element.setAttribute("style",`left: ${this.posX}px; top:${this.posY}px; height:${this.height}px`),console.log("render id",this.id),console.log(this.element.id),this.element}print(){console.log(r.apa)}elementDrag(t){(t=t||window.event).preventDefault();let e=t.clientX-this.offsetX,n=t.clientY-this.offsetY;e=e<0?0:e,n=n<0?0:n,this.element.style.top=`${n}px`,this.element.style.left=`${e}px`,this.posY=n,this.posX=e}closeDragElement(){document.onmouseup=null,document.onmousemove=null,document.onwheel=null,clearInterval(this.scrollChecker)}moveScreenUp(){this.element.getBoundingClientRect().top,this.posY<=0?window.scrollTo({top:0,behavior:"smooth"}):(window.scrollBy(0,-1),this.setPosY(this.posY-1),this.offsetY+=1)}moveScreenDown(){this.element.getBoundingClientRect().bottom,window.scrollBy(0,1),this.setPosY(this.posY+1),this.offsetY-=1,this.onScrolledCallbacks.forEach(t=>{t(this.posY,this.height)})}setPosY(t){this.posY=t,this.element.style.top=`${this.posY}px`}onScrolled(t){this.onScrolledCallbacks.push(t)}attachToWheel(t){window.scrollY+window.innerHeight>=document.querySelector("#workspace-root").clientHeight||(this.setPosY(this.posY+t.deltaY),this.offsetY-=t.deltaY)}mouseDown(t){(t=t||window.event).preventDefault(),this.offsetX=t.clientX-this.posX,this.offsetY=t.clientY-this.posY,this.scrollChecker=setInterval(()=>{const t=window.innerHeight-this.element.getBoundingClientRect().bottom;t<=0?this.moveScreenDown():t>=window.innerHeight-this.height&&this.moveScreenUp()},5),console.log(document),document.addEventListener("mouseup",t=>{this.closeDragElement(t)}),document.onmousemove=t=>{this.elementDrag(t)},document.onwheel=t=>{this.attachToWheel(t)};let e=` box-shadow: ${(0).toString()}px ${(0).toString()}px 40px 20px #0ff;`,n=document.getElementById(this.id).style.cssText;document.getElementById(this.id).setAttribute("style",n+e)}onClick(t){this.eventEmitter.emit("clicked",this.id,t)}};var i=class{constructor(t,e){this.eventEmitter=e,this.onClick=this.onClick.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.height=window.innerHeight,this.htmlElement=t,this.childScrolled=this.childScrolled.bind(this),this.htmlElement.onkeypress=this.onKeyPress,this.htmlElement.onclick=this.onClick}onClick(t){this.eventEmitter.emit("clickedWorkspace",t)}onKeyPress(t){console.log(t),99==t.keyCode?(console.log("kopierad"),this.eventEmitter.emit("copy")):118==t.which&&(console.log("inklistrad"),this.eventEmitter.emit("paste"))}rerender(){return this.setHeight(this.height),this.htmlElement}increaseSize(){console.log("INCREASING SIZE"),this.setHeight(this.height+200)}setHeight(t){this.height=t,this.htmlElement.style.height=`${t}px`}addBox(t){console.log("i addbox: ",t),this.htmlElement.appendChild(t.render()),console.log("efter",this.htmlElement)}childScrolled(t,e){t+e>=this.height&&this.increaseSize()}};const s=n(3),c=n(4),u=n(0);!function(){let t=new s,e=[],n=[],r=null,l={},a={};function h(){let t=document.getElementById(r.id).style.cssText;t=t.split(" box-shadow")[0],document.getElementById(r.id).style.cssText=t,r=null}t.on("clickedWorkspace",t=>{t.clientX==l.clientX&&t.clientY==l.clientY||null==r||h()}),t.on("copy",()=>{console.log("Back in main"),null!=r&&(a=c(r),console.log("APAPPAPA",r===a),a.id=u(),a.element=document.createElement("div"),a.element.classList.add("flowchart-square"),a.element.id=a.id,console.log("marked",r),console.log("cp",a))}),t.on("paste",()=>{console.log("Back in main"),null!=a&&(n.push(a),console.log("pushed"),console.log(n),e.push(a.id),f.addBox(a),console.log("wsobj",f),console.log("id's",e))}),t.on("clicked",(function(t,e){l=e;let o=n.find(e=>e.id==t);if(o==r){console.log("Open modal",o),o.closeDragElement();let t=document.getElementById("modal");t.style.display="block";let e=t.childNodes;!function(t,e,n,r){t.textContent="ID: "+r.id.toString(),function(t,e){t.innerHTML=`<div>\n                                    Input: ${e.input} </br>\n                                    Output: ${e.output} </br>\n                                    Description: ${e.functionDescription}\n                                 </div>`}(e,r),n.textContent="Close"}(e[1],e[3],e[5],o),window.onclick=function(e){e.target==t&&(t.style.display="none")}}else null!=r&&h(),r=o}));const f=new i(document.querySelector("#workspace-root"),t);f.rerender(),document.querySelector("#newObject").addEventListener("click",(function(){"hidden"==document.getElementById("element-picker").style.visibility?document.getElementById("element-picker").style.visibility="visible":document.getElementById("element-picker").style.visibility="hidden";const r=u();e.push(r);const i=new o(r,t);n.push(i),f.addBox(i),i.print()}))}()}]);